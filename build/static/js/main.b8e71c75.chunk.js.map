{"version":3,"sources":["components/Header/index.js","service/error.js","service/index.js","api/index.js","pages/home/index.js","router/load.js","pages/create/index.js","router/routes.js","router/index.js","App.js","serviceWorker.js","index.js","assets/images/icon.png"],"names":["Header","react_default","a","createElement","className","src","require","NavLink","to","exact","activeClassName","Component","ApiRequestError","code","message","Object","classCallCheck","this","createClass","key","value","concat","ApiResultError","data","client","Axios","create","timeout","paramsSerializer","params","obj","arr","_arr","entries","_i","length","_ref3","_ref2","slicedToArray","k","v","push","join","obj2str","responseType","maxContentLength","Math","pow","interceptors","response","use","error","_error$response","status","statusText","undefined","Promise","reject","startsWith","Request","config","request","then","_response$data","resultMessage","err","getData","args","arguments","refresh","url","method","postApi","objectSpread","callback","Home","useEffect","Create","routes","component","__webpack_require__","e","bind","Loadable","loader","loading","props","console","spin","size","path","router","BrowserRouter","Fragment","src_components_Header","Switch","renderRoutes","Redirect","App","Router","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","p"],"mappings":"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","file":"static/js/main.b8e71c75.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport './index.scss'\n\nclass Header extends Component {\n  render() {\n    return (\n      <header className=\"header\">\n        <div className=\"header-left\">\n          <img src={require('~/assets/images/icon.png')} className=\"header-icon\" />\n          <span className=\"header-title\">麻花网</span>\n        </div>\n        <div className=\"header-menu\">\n          <NavLink to={'/'} exact className=\"header-menu-item\" activeClassName=\"selected\">\n            <span>首页</span>\n          </NavLink>\n          <NavLink to={'/create'} exact className=\"header-menu-item\" activeClassName=\"selected\">\n            <span>创建</span>\n          </NavLink>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","// common\nexport const ERROR_CODE_OK = 0;\nexport const ERROR_CODE_FAIL = 1;\nexport const ERROR_CODE_HTTP = 2;\nexport const ERROR_CODE_SYSTEM = 3;\nexport const ERROR_CODE_NOT_FOUND = 4;\nexport const ERROR_CODE_DUPLICATED = 5;\nexport const ERROR_CODE_NO_PERMISSION = 6;\nexport const ERROR_CODE_INVALID_PARAMS = 7;\nexport const ERROR_CODE_INVALID_VERIFY_CODE = 8;\n\n// Account\nexport const ERROR_CODE_WRONG_PASSWORD = 1000;\n\n// Storage\nexport const ERROR_CODE_UPLOAD_FILE_TO_CLOUD_STORAGE = 2000;\n\nexport class InputError {\n  constructor (screenId, error) {\n    this.screenId = screenId;\n    this.error = error || {};\n\n    this.code = this.screenId;\n    this.message = Array.from(\n      Object.entries(this.error),\n      ([k, v]) => `${k}: ${v.join('; ')}`\n    ).join(' | ')\n  }\n  toString () {\n    return `${this.code} ${this.message}`\n  }\n}\n\nexport class ApiRequestError {\n  constructor (code, message) {\n    this.code = code;\n    this.message = message\n  }\n\n  toString () {\n    return `${this.code} ${this.message}`;\n  }\n}\n\nexport class ApiResultError {\n  constructor (code, message, data) {\n    this.code = code;\n    this.message = message;\n    this.data = data\n  }\n\n  toString () {\n    return `${this.code} ${this.message}`\n  }\n}\n","import Axios from 'axios';\nimport { ApiRequestError, ApiResultError } from './error';\n\nfunction obj2str(obj) {\n  let arr = [];\n  for (let [k, v] of Object.entries(obj)) {\n    arr.push(`${k}=${v}`);\n  }\n  return arr.join(\"&\");\n}\n\nlet client = Axios.create({\n  timeout: 5000,\n  paramsSerializer: params => obj2str(params),\n  responseType: 'text',\n  maxContentLength: Math.pow(1024, 2)\n})\n\nclient.interceptors.response.use(\n  response => {\n    return response;\n  },\n  error => {\n    if (error.response) {\n      let { status, statusText } = error.response;\n      if (statusText === undefined) {\n        if (status === 200) {\n          statusText = '成功'\n        } else if (status === 400) {\n          statusText = '请求不正确'\n        } else if (status === 401) {\n          statusText = '没有权限'\n        } else if (status === 413) {\n          statusText = '发送内容过大'\n        } else if (status === 500) {\n          statusText = '服务器内部错误'\n        } else if (status === 502) {\n          statusText = '服务暂时不可用'\n        } else if (status === 504) {\n          statusText = '服务器处理超时'\n        } else {\n          statusText = '请求服务出错'\n        }\n      }\n      return Promise.reject(new ApiRequestError(status, statusText))\n    }\n    if (error.message.startsWith('timeout of ')) {\n      return Promise.reject(new ApiRequestError(408, 'time out'))\n    }\n    return Promise.reject(new ApiRequestError(500, error.message))\n  }\n)\n\nexport const Request = (config) => {\n  return client.request(config)\n    .then(response => {\n      if (response.status === 200 || response.status === 204) {\n        return response.data\n      }\n\n      let { code, resultMessage, data } = response.data;\n      return Promise.reject(new ApiResultError(code, resultMessage || '服务异常', data))\n\n    }, err => {\n\n      return Promise.reject(err);\n    })\n}\n\nexport function getApi(url, params = {}) {\n  return Request({\n    url,\n    method: 'GET',\n    params\n  })\n}\n\nexport function postApi(url, data = {}) {\n  return Request({\n    url,\n    method: 'POST',\n    data: data\n  })\n}\n","import {postApi} from '~/service'\n\nexport function getData(args = {}, refresh = true) {\n  return postApi(\n    'http://www.reunite.top:8081/data/source/connect',\n    { ...args },\n    { timeout: 30000, refresh}\n  )\n}","import React, { useEffect } from 'react';\nimport {getData} from '~/api'\n\nconst Home = () => {\n  useEffect(() => {\n    getData()\n  }, []);\n\n  return (\n    <div>\n      <p>首页</p>\n    </div>\n  );\n}\n\nexport default Home","import React from \"react\";\nimport Loadable from \"react-loadable\";\nimport { Spin } from \"antd\";\n\nexport default callback => {\n  return Loadable({\n    loader: () => callback(),\n    loading: props => {\n      if (props.error) {\n        console.error(props.error);\n      }\n      return (\n        <div className=\"load-page-spin-wrapper\">\n          <Spin size=\"large\" />\n        </div>\n      );\n    }\n  });\n};","import React from 'react';\n\nconst Create = () => {\n\n  return (\n    <div>\n      <p>新增</p>\n    </div>\n  );\n}\n\nexport default Create","import load from './load';\n\nimport Home from '~/pages/home'\nimport Create from '~/pages/create'\n\nconst routes = [\n  {\n    component: load(() => import('~/layouts')),\n    routes: [\n      {\n        path: \"/\",\n        exact: true,\n        component: Home\n      }, {\n        path: \"/create\",\n        exact: true,\n        component: Create\n      }\n    ]\n  }\n];\n\nexport default routes;","import React from \"react\"\nimport { renderRoutes } from \"react-router-config\"\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\"\nimport {Header} from '~/components'\n\nimport routes from \"./routes\"\n\nexport default (\n  <Router>\n    <>\n      <Header />\n      <div className=\"content\">\n        <Switch>\n          {renderRoutes(routes)}\n          <Redirect to=\"/notfound\" />\n        </Switch>\n      </div>\n    </>\n  </Router>\n)","import React, { Component } from 'react';\nimport './App.scss';\nimport 'antd/dist/antd.css';\nimport Router from './router'\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        {Router}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/icon.0b98d2d0.png\";"],"sourceRoot":""}